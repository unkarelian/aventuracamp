---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FeatureCard from '../components/FeatureCard.astro';
import DownloadButtons from '../components/DownloadButtons.astro';

const features = [
  {
    icon: 'edit_note',
    title: 'AI Storytelling',
    description: 'Break writer\'s block instantly. Let the AI suggest the next sentence, paragraph, or plot twist based on your unique style.',
  },
  {
    icon: 'menu_book',
    title: 'Unified Lorebook',
    description: 'Keep your characters, locations, and world details organized. The AI references your lorebook to ensure consistency.',
  },
  {
    icon: 'psychology',
    title: 'Intelligent Memory',
    description: 'The AI remembers your plot twists so you don\'t have to. It tracks context intelligently over long narrative arcs.',
  },
  {
    icon: 'account_tree',
    title: 'Story Branching',
    description: 'Explore alternate timelines and "what-if" scenarios effortlessly. Never lose a good idea or narrative path again.',
  },
];

---

<BaseLayout title="Aventura - AI-Powered Interactive Fiction">
  <div class="relative flex min-h-screen w-full flex-col overflow-x-hidden">
    <Header currentPath="/" />

    <main class="flex-1 flex flex-col items-center w-full">
      <!-- Hero Section -->
      <section class="w-full max-w-4xl px-5 sm:px-10 py-12 md:py-16">
        <div class="flex flex-col gap-6">
          <h1 class="text-text-cream text-5xl sm:text-6xl font-medium leading-[1.1] tracking-tight">
            Aventura
          </h1>
          <p class="text-text-muted text-lg sm:text-xl font-normal leading-relaxed font-body max-w-xl">
            An open-source tool for writing interactive fiction with AI. Keep your characters, worlds, and plot threads organized while an AI helps you write.
          </p>
          <DownloadButtons />
        </div>
      </section>

      <!-- Screenshots -->
      <section class="w-full max-w-5xl px-5 sm:px-10 pb-12">
        <div class="max-w-2xl mx-auto mb-4">
          <div class="rounded-xl overflow-hidden border border-border-brown/50">
            <img src="/wizard.png" alt="Story creation wizard" class="w-full" />
          </div>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div class="rounded-xl overflow-hidden border border-border-brown/50">
            <img src="/main_image_expanded.png" alt="Adventure mode with expanded image" class="w-full" />
          </div>
          <div class="rounded-xl overflow-hidden border border-border-brown/50">
            <img src="/main_image_collapsed.png" alt="Adventure mode with collapsed image" class="w-full" />
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="w-full bg-surface-dark/30 border-y border-border-brown/50">
        <div class="max-w-7xl mx-auto px-5 sm:px-10 py-20">
          <div class="flex flex-col items-center text-center gap-4 mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-text-cream">What it does</h2>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            {features.map(feature => (
              <FeatureCard {...feature} />
            ))}
          </div>

        </div>
      </section>

      <!-- Open Source Section -->
      <section class="w-full max-w-7xl px-5 sm:px-10 py-16">
        <div class="flex flex-col gap-6 max-w-2xl">
          <h2 class="text-2xl md:text-3xl font-bold text-text-cream">Open source & private</h2>
          <p class="text-text-muted text-lg font-body leading-relaxed">
            Aventura is licensed under AGPL-3.0. Your stories stay on your device, and there's no telemetry or tracking.
          </p>
          <div class="flex flex-wrap gap-4">
            <a href="https://github.com/unkarelian/Aventura" target="_blank" rel="noopener noreferrer" class="btn-secondary h-10 px-5 text-sm">
              <span class="material-symbols-outlined text-[18px]">code</span>
              View on GitHub
            </a>
          </div>
        </div>
      </section>
    </main>

    <Footer />
  </div>
</BaseLayout>
